var mongoose = require('mongoose');
var bike = require('config/bikemodels');
var fs = require('fs');
var Q  = require('q');
exports.upload = function(bikeInfo, image, callback) {
	var info = bikeInfo;
	var newBike = new bike;
	newBike.name = info.name;
	newBike.username = info.username;
	newBike.phone = info.phone;
	newBike.address = info.address;
	newBike.brand = info.brand;
	newBike.zone = info.zone;
	newBike.image.data = fs.readFileSync(image.path);
	newBike.image.contentType = image.type; 
	newBike.save(function(err){
		callback({
		"response": "Sucessfully Upload"
	});
	});
}
/*	var newBike = new bike({
		name:info.name,
		username:info.username,
		phone:info.phone,
		address:info.address,
		brand:info.brand,
		zone:info.zone
	});*/